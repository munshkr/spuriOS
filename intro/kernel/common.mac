; GCC/x86 function calling convention for building a stack frame
%macro PROLOGUE 1
  enter %1, 0
  push ebx
  push esi
  push edi
%endmacro

%macro EPILOGUE 0
  pop edi
  pop esi
  pop ebx
  leave
%endmacro
